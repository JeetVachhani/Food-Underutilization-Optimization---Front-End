(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{103:function(e,t,a){e.exports=a.p+"static/media/hi_anim.35a10177.mp4"},104:function(e,t,a){e.exports=a.p+"static/media/hi.4fe2f08d.jpg"},105:function(e,t,a){e.exports=a.p+"static/media/nametag_anim.19465986.mp4"},106:function(e,t,a){e.exports=a.p+"static/media/nametag.36c9995a.jpg"},128:function(e,t,a){e.exports=a(175)},175:function(e,t,a){"use strict";a.r(t),a.d(t,"routing",(function(){return Bt}));var n=a(0),r=a.n(n),o=a(15),i=a.n(o),s=(a(88),a(34)),c=a(210),l=a(212),u=a(214),d=a(101),m=a.n(d),p=Object(c.a)((function(e){return{root:{flexGrow:1},title:{flexGrow:1}}})),h={color:"white",margin:"-20%"};function f(){var e=p();return r.a.createElement("div",{className:e.root},r.a.createElement(l.a,{position:"static",style:{background:"#67d367"}},r.a.createElement(u.a,null,r.a.createElement("a",{href:"landing.html",id:"accounts-back"},r.a.createElement(m.a,{style:h})),r.a.createElement("h2",{className:e.title},"Log In / Sign Up"))))}var E=a(76),g=a(182),O=a(222),b=a(216),R=a(217),L=a(223),v=a(220),y=a(16),S=a(7),w=a(10),j=a(9),C=a(8),k=a(215),x=a(218),N=a(181),T=a(219),P=a(4),_=a(41),I=Object(c.a)((function(e){return{paper:{marginTop:e.spacing(0),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),D=Object(P.a)({root:{"& label.Mui-focused":{color:"black"},"& .MuiInput-underline:after":{borderBottomColor:"black"}}})(k.a),z=function(e){Object(j.a)(a,e);var t=Object(C.a)(a);function a(e){var n;return Object(S.a)(this,a),(n=t.call(this,e)).handleEmail=function(e){return function(t){n.setState(Object(y.a)({},e,t.target.value))}},n.handleAddress=function(e){return function(t){n.setState(Object(y.a)({},e,t.target.value))}},n.handleCity=function(e){return function(t){n.setState(Object(y.a)({},e,t.target.value))}},n.handleState=function(e){return function(t){n.setState(Object(y.a)({},e,t.target.value))}},n.handleZip=function(e){return function(t){n.setState(Object(y.a)({},e,t.target.value))}},n.handlePassword=function(e){return function(t){n.setState(Object(y.a)({},e,t.target.value))}},n.handleConfirmPW=function(e){return function(t){n.setState(Object(y.a)({},e,t.target.value))}},n.validate=function(){var e="",t="",a="",r="",o="",i="",s="";return n.state.email.includes("@")&&n.state.email.includes(".")||(e="Invalid email"),n.state.address||(t="Please enter a street"),(n.state.city.length<2||!isNaN(n.state.city))&&(a="Invalid City"),(n.state.state.length<2||!isNaN(n.state.state))&&(r="Invalid State"),(isNaN(n.state.zip)||n.state.zip.length<5)&&(o="Invalid Zip Code"),(!n.state.password||n.state.password.length<6)&&(i="Password should be atleast of length 6"),n.state.password!==n.state.confirmPW&&(s="Passwords do not match"),!(e||t||a||r||o||i||s)||(n.setState({emailError:e,addressError:t,cityError:a,stateError:r,zipError:o,passwordError:i,confirmPWError:s}),!1)},n.handleSubmit=function(e){e.preventDefault(),n.validate()&&n.props.action.signupCustomer(n.state.email,n.state.password,n.state.address,n.state.city,n.state.state,n.state.zip)},n.state={email:"",address:"",city:"",state:"",zip:"",password:"",confirmPW:"",addressError:"",cityError:"",stateError:"",zipError:"",passwordError:"",confirmPWError:""},n}return Object(w.a)(a,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(b.a,{component:"main",maxWidth:"xs"},r.a.createElement(R.a,null),r.a.createElement("div",{className:e.paper},r.a.createElement("p",{className:"sign-up-subtitle"},"Create a Customer Account"),r.a.createElement("form",{className:e.form},r.a.createElement(x.a,{container:!0,spacing:2},r.a.createElement(x.a,{item:!0,xs:12},r.a.createElement(D,{autoFocus:!0,required:!0,fullWidth:!0,id:"email",name:"email",label:"Email Address",autoComplete:"email",value:this.state.email,onChange:this.handleEmail("email")}),this.state.emailError?r.a.createElement(N.a,{style:{fontSize:12,color:"red"}},this.state.emailError):null),r.a.createElement(x.a,{item:!0,xs:12},r.a.createElement(D,{required:!0,fullWidth:!0,id:"address",name:"address",label:"Street Address",autoComplete:"address",value:this.state.address,onChange:this.handleAddress("address")}),this.state.addressError?r.a.createElement(N.a,{style:{fontSize:12,color:"red"}},this.state.addressError):null),r.a.createElement(x.a,{item:!0,xs:12,sm:4},r.a.createElement(D,{required:!0,fullWidth:!0,id:"city",name:"city",label:"City",autoComplete:"city",value:this.state.city,onChange:this.handleCity("city")}),this.state.cityError?r.a.createElement(N.a,{style:{fontSize:12,color:"red"}},this.state.cityError):null),r.a.createElement(x.a,{item:!0,xs:12,sm:4},r.a.createElement(D,{required:!0,fullWidth:!0,id:"state",name:"state",label:"State",autoComplete:"state",value:this.state.state,onChange:this.handleState("state")}),this.state.stateError?r.a.createElement(N.a,{style:{fontSize:12,color:"red"}},this.state.stateError):null),r.a.createElement(x.a,{item:!0,xs:12,sm:4},r.a.createElement(D,{required:!0,fullWidth:!0,id:"zip",name:"zip",label:"Zip",autoComplete:"zip",value:this.state.zip,onChange:this.handleZip("zip")}),this.state.zipError?r.a.createElement(N.a,{style:{fontSize:12,color:"red"}},this.state.zipError):null),r.a.createElement(x.a,{item:!0,xs:12},r.a.createElement(D,{required:!0,fullWidth:!0,name:"password",label:"New Password",type:"password",autoComplete:"current-password",value:this.state.password,onChange:this.handlePassword("password")}),this.state.passwordError?r.a.createElement(N.a,{style:{fontSize:12,color:"red"}},this.state.passwordError):null),r.a.createElement(x.a,{item:!0,xs:12},r.a.createElement(D,{required:!0,fullWidth:!0,name:"password",label:"Confirm Password",type:"password",autoComplete:"current-password",value:this.state.confirmPW,onChange:this.handleConfirmPW("confirmPW")}),this.state.confirmPWError?r.a.createElement(N.a,{style:{fontSize:12,color:"red"}},this.state.confirmPWError):null)),r.a.createElement(_.b,{to:"/Customer",onClick:this.handleSubmit,className:"button"},r.a.createElement(T.a,{id:"signup-customer",type:"submit",fullWidth:!0,variant:"contained",color:"default",className:e.submit},"Sign Up")))))}}]),a}(r.a.Component),W=Object(P.a)(I)(z),M=Object(c.a)((function(e){return{paper:{marginTop:e.spacing(0),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),B=Object(P.a)({root:{"& label.Mui-focused":{color:"black"},"& .MuiInput-underline:after":{borderBottomColor:"black"}}})(k.a),A=function(e){Object(j.a)(a,e);var t=Object(C.a)(a);function a(e){var n;return Object(S.a)(this,a),(n=t.call(this,e)).handleBusinessName=function(e){return function(t){n.setState(Object(y.a)({},e,t.target.value))}},n.handleEmail=function(e){return function(t){n.setState(Object(y.a)({},e,t.target.value))}},n.handlePhone=function(e){return function(t){n.setState(Object(y.a)({},e,t.target.value))}},n.handlePassword=function(e){return function(t){n.setState(Object(y.a)({},e,t.target.value))}},n.handleConfirmPW=function(e){return function(t){n.setState(Object(y.a)({},e,t.target.value))}},n.validate=function(){var e="",t="",a="",r="",o="";return n.state.businessName||(e="Please enter business name"),n.state.email.includes("@")&&n.state.email.includes(".")||(t="Invalid email"),(!n.state.password||n.state.password.length<6)&&(r="Password should be atleast of length 6"),n.state.password!==n.state.confirmPW&&(o="Passwords do not match"),(n.state.phone.length<10||!Number(n.state.phone))&&(a="Invalid phone number (digits only)"),!(t||e||a||r||o)||(n.setState({emailError:t,nameError:e,phoneError:a,passwordError:r,confirmPWError:o}),!1)},n.handleSubmit=function(e){e.preventDefault(),n.validate()&&n.props.action.signupBusiness(n.state.businessName,n.state.email,n.state.phone,n.state.password)},n.state={businessName:"",email:"",phone:"",password:"",confirmPW:"",nameError:"",emailError:"",phoneError:"",passwordError:"",confirmPWError:""},n}return Object(w.a)(a,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(b.a,{component:"main",maxWidth:"xs"},r.a.createElement(R.a,null),r.a.createElement("div",{className:e.paper},r.a.createElement("p",{className:"sign-up-subtitle"},"Create a Business Account"),r.a.createElement("form",{className:e.form,noValidate:!0},r.a.createElement(x.a,{container:!0,spacing:2},r.a.createElement(x.a,{item:!0,xs:12},r.a.createElement(B,{autoFocus:!0,required:!0,fullWidth:!0,id:"businessName",name:"businessName",label:"Business Name",autoComplete:"name",value:this.state.businessName,onChange:this.handleBusinessName("businessName")}),this.state.nameError?r.a.createElement(N.a,{style:{fontSize:12,color:"red"}},this.state.nameError):null),r.a.createElement(x.a,{item:!0,xs:12,sm:6},r.a.createElement(B,{required:!0,fullWidth:!0,id:"email",name:"email",label:"Email Address",autoComplete:"email",value:this.state.email,onChange:this.handleEmail("email")}),this.state.emailError?r.a.createElement(N.a,{style:{fontSize:12,color:"red"}},this.state.emailError):null),r.a.createElement(x.a,{item:!0,xs:12,sm:6},r.a.createElement(B,{required:!0,fullWidth:!0,id:"phone",name:"phone",label:"Phone",autoComplete:"phone",value:this.state.phone,onChange:this.handlePhone("phone")}),this.state.phoneError?r.a.createElement(N.a,{style:{fontSize:12,color:"red"}},this.state.phoneError):null),r.a.createElement(x.a,{item:!0,xs:12},r.a.createElement(B,{required:!0,fullWidth:!0,name:"password",label:"New Password",type:"password",autoComplete:"current-password",value:this.state.password,onChange:this.handlePassword("password")}),this.state.passwordError?r.a.createElement(N.a,{style:{fontSize:12,color:"red"}},this.state.passwordError):null),r.a.createElement(x.a,{item:!0,xs:12},r.a.createElement(B,{required:!0,fullWidth:!0,name:"password",label:"Confirm Password",type:"password",autoComplete:"current-password",value:this.state.confirmPW,onChange:this.handleConfirmPW("confirmPW")}),this.state.confirmPWError?r.a.createElement(N.a,{style:{fontSize:12,color:"red"}},this.state.confirmPWError):null)),r.a.createElement(_.b,{to:"/Business",onClick:this.handleSubmit,className:"button"},r.a.createElement(T.a,{type:"submit",variant:"contained",color:"default",fullWidth:!0,className:e.submit},"Sign Up")))))}}]),a}(r.a.Component),F=Object(P.a)(M)(A);function q(e){var t=e.children,a=e.value,n=e.index,o=Object(E.a)(e,["children","value","index"]);return r.a.createElement(g.a,Object.assign({component:"div",role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},o),a===n&&r.a.createElement(O.a,{p:3},t))}function J(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var G=Object(c.a)((function(e){return{paper:{marginTop:e.spacing(0),display:"flex",flexDirection:"column",alignItems:"center",flexGrow:1},indicator:{textColor:"inherit",backgroundColor:"black"}}}));function U(e){var t=G(),a=r.a.useState(0),n=Object(s.a)(a,2),o=n[0],i=n[1];return r.a.createElement(b.a,{component:"main"},r.a.createElement(R.a,null),r.a.createElement("div",{className:t.paper},r.a.createElement(L.a,{value:o,onChange:function(e,t){i(t)},centered:!0,"aria-label":"simple tabs example",classes:{indicator:t.indicator}},r.a.createElement(v.a,Object.assign({label:"Customer"},J(0))),r.a.createElement(v.a,Object.assign({label:"Business"},J(1)))),r.a.createElement(q,{value:o,index:0},r.a.createElement(W,{action:e.action})," "),r.a.createElement(q,{value:o,index:1},r.a.createElement(F,{action:e.action})," ")))}var Z=a(225),H=a(221),V=a(224),$=Object(c.a)((function(e){return{paper:{marginTop:e.spacing(0),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1),margin:e.spacing(3)},submit:{margin:e.spacing(2,0,2),marginTop:e.spacing(2)}}})),K=Object(P.a)({root:{"& label.Mui-focused":{color:"black"},"& .MuiInput-underline:after":{borderBottomColor:"black"},"& .MuiOutlinedInput-root":{"&.Mui-focused fieldset":{borderColor:"black"}}}})(k.a),Y=function(e){Object(j.a)(a,e);var t=Object(C.a)(a);function a(e){var n;return Object(S.a)(this,a),(n=t.call(this,e)).handleEmail=function(e){return function(t){n.setState(Object(y.a)({},e,t.target.value))}},n.handlePassword=function(e){return function(t){n.setState(Object(y.a)({},e,t.target.value))}},n.handleRadioChange=function(e){return function(t){n.setState(Object(y.a)({},e,t.target.value)),n.identityError="",n.link=t.target.value}},n.validate=function(){var e="",t="";return n.state.email.includes("@")&&n.state.email.includes(".")||(e="Invalid email"),n.state.password.length<6&&(t="Invalid password"),!e&&!t||(n.setState({emailError:e,passwordError:t}),!1)},n.handleSubmit=function(e){e.preventDefault(),n.validate()&&("Customer"===n.link?n.props.action.loginCustomer(n.state.email,n.state.password):"Business"===n.link&&n.props.action.loginBusiness(n.state.email,n.state.password))},n.state={email:"",password:"",identity:"",emailError:"",passwordError:""},n.identityError="Please choose an option above.",n.link="",n.linkTo="/",n}return Object(w.a)(a,[{key:"handleLink",value:function(){"Customer"===this.link?this.linkTo="/Customer":"Business"===this.link?this.linkTo="/Business":this.linkTo="/"}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(b.a,{component:"main",maxWidth:"xs"},r.a.createElement(R.a,null),r.a.createElement("div",{className:e.paper},r.a.createElement("form",{className:e.form},r.a.createElement(x.a,{container:!0},r.a.createElement(K,{autoFocus:!0,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",type:"email",label:"Email Address",name:"email",autoComplete:"email",value:this.state.email,onChange:this.handleEmail("email")}),this.state.emailError?r.a.createElement(N.a,{style:{fontSize:12,color:"red"}},this.state.emailError):null,r.a.createElement(K,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:this.state.password,onChange:this.handlePassword("password")}),this.state.passwordError?r.a.createElement(N.a,{style:{fontSize:12,color:"red"}},this.state.passwordError):null,r.a.createElement(x.a,{container:!0},r.a.createElement(Z.a,{"aria-label":"identity",name:"identifier",onChange:this.handleRadioChange("identity")},r.a.createElement("p",null," I am a ... "),r.a.createElement(x.a,{container:!0},r.a.createElement(x.a,{item:!0},r.a.createElement(H.a,{value:"Customer",control:r.a.createElement(V.a,{color:"default",size:"small"}),label:r.a.createElement("p",null," Customer ")})),r.a.createElement(x.a,{item:!0},r.a.createElement(H.a,{value:"Business",control:r.a.createElement(V.a,{color:"default",size:"small"}),label:r.a.createElement("p",null," Business ")}))))),r.a.createElement("p",null,r.a.createElement("small",null,this.identityError))),r.a.createElement(_.b,{to:this.linkTo,onClick:this.handleSubmit,className:"button"},r.a.createElement(T.a,{type:"submit",fullWidth:!0,variant:"contained",color:"default",className:e.submit},"Log In")))))}}]),a}(r.a.Component),X=Object(P.a)($)(Y);function Q(e){var t=e.children,a=e.value,n=e.index,o=Object(E.a)(e,["children","value","index"]);return r.a.createElement(g.a,Object.assign({component:"div",role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},o),a===n&&r.a.createElement(O.a,{p:3},t))}function ee(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var te=Object(c.a)((function(e){return{paper:{marginTop:e.spacing(7),display:"flex",flexDirection:"column",alignItems:"center",flexGrow:1},indicator:{textColor:"inherit",backgroundColor:"black"}}}));function ae(e){var t=te(),a=r.a.useState(0),n=Object(s.a)(a,2),o=n[0],i=n[1],c={signupBusiness:function(e,t,a,n){var r={name:e,email:t,mobile:a,password:n};fetch("https://fuo-backend.herokuapp.com/users/business/register",{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}}).then((function(e){if(200===e.status)return e.json();throw new Error("bad login")})).then((function(e){alert("Registered! You can log in now!")})).catch((function(e){console.log("caught b signup"),console.log(e),alert("Bad signup")}))},signupCustomer:function(e,t,a,n,r,o){var i={email:e,password:t,customer_location:a+"."+n+","+r+" "+o};fetch("https://fuo-backend.herokuapp.com/users/customer/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}).then((function(e){if(200===e.status)return e.json();throw new Error("Bad signup")})).then((function(e){alert("Registered! You can log in now!")})).catch((function(e){console.log("caught c signup"),console.log(e),alert("Something went wrong...")}))}},l={loginBusiness:function(e,t){var a={email:e,password:t};fetch("https://fuo-backend.herokuapp.com/users/business/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){if(200===e.status)return e.json();throw new Error("bad login")})).then((function(e){localStorage.setItem("fuo",e.token),window.location.assign("http://localhost:3000/business")})).catch((function(e){console.log("caught b login"),console.log(e),alert("Something went wrong...")}))},loginCustomer:function(e,t){var a={email:e,password:t};fetch("https://fuo-backend.herokuapp.com/users/customer/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){if(200===e.status)return e.json();throw new Error("bad login")})).then((function(e){localStorage.setItem("fuo",e.token),window.location.assign("http://localhost:3000/customer")})).catch((function(e){console.log("caught c login"),console.log(e),alert("Something went wrong...")}))}};return r.a.createElement(b.a,{component:"main"},r.a.createElement(R.a,null),r.a.createElement("div",{className:t.paper},r.a.createElement("h2",null," Log In or Sign Up "),r.a.createElement(L.a,{value:o,onChange:function(t,a){o!==a&&(i(a),e.vid(a))},centered:!0,"aria-label":"simple tabs example",classes:{indicator:t.indicator}},r.a.createElement(v.a,Object.assign({label:"Log In"},ee(0))),r.a.createElement(v.a,Object.assign({label:"Sign Up"},ee(1)))),r.a.createElement(Q,{value:o,index:0},r.a.createElement(X,{action:l})," "),r.a.createElement(Q,{value:o,index:1},r.a.createElement(U,{action:c})," ")))}var ne=a(103),re=a.n(ne),oe=a(104),ie=a.n(oe),se=a(105),ce=a.n(se),le=a(106),ue=a.n(le);var de=function(){function e(e){e.preventDefault()}var t=r.a.createElement("video",{className:"image-display",id:"welcome-video",muted:!0,autoPlay:!0,poster:ie.a,loop:!0,src:re.a,onContextMenu:e}),a=r.a.createElement("video",{className:"image-display",id:"welcome-video",muted:!0,autoPlay:!0,poster:ue.a,loop:!0,src:ce.a,onContextMenu:e}),n=r.a.useState(t),o=Object(s.a)(n,2),i=o[0],c=o[1];return r.a.createElement("div",{id:"account-parent"},r.a.createElement(f,null),r.a.createElement("div",{className:"main-display",id:"main-display"},r.a.createElement("div",{className:"image-display"},i),r.a.createElement("div",{className:"tab-display"},r.a.createElement(ae,{vid:function(e){c(0===e?t:a)}}))))};var me=a(13),pe=a(107),he=a.n(pe),fe=a(108),Ee=a.n(fe);var ge=function(e){return r.a.createElement("div",{className:"locationInfo-listing"},r.a.createElement("p",{className:"locationInfo-name"},e.name),r.a.createElement("p",{className:"locationInfo-price"},"$",e.price),r.a.createElement("p",{className:"locationInfo-date"},e.expire))},Oe=function(e){Object(j.a)(a,e);var t=Object(C.a)(a);function a(){return Object(S.a)(this,a),t.apply(this,arguments)}return Object(w.a)(a,[{key:"render",value:function(){var e=0,t=this.props.data.productsList.map((function(t){return r.a.createElement(ge,{key:t.product_name+e++,name:t.product_name,price:t.price,expire:t.expire_date})}));return r.a.createElement("div",{id:"locationInfo"},r.a.createElement("h1",{id:"locationInfo-address"},this.props.data.address),r.a.createElement("div",{id:"locationInfo-listing-count"},r.a.createElement("h3",null,this.props.data.totalProducts),r.a.createElement("p",null,"Listings")),r.a.createElement("div",{id:"locationInfo-list"},t),r.a.createElement("div",{id:"LocationInfoControls"},r.a.createElement(T.a,{onClick:this.props.action.updateProducts,className:"update-listing-button",variant:"contained",color:"primary",size:"large",startIcon:r.a.createElement(he.a,null)},"Update Listing"),r.a.createElement(T.a,{onClick:this.props.action.deleteLocation,className:"delete-location-button",variant:"contained",color:"primary",size:"large",startIcon:r.a.createElement(Ee.a,null)},"Delete Location")))}}]),a}(r.a.Component),be=a(20),Re=a(21);function Le(){var e=Object(be.a)(["\n    text-align: center;\n    width: 100%;\n    font-size: 17px;\n    margin-bottom: 30px;\n"]);return Le=function(){return e},e}function ve(){var e=Object(be.a)(["\n    text-align: center;\n    margin-bottom: 30px;\n"]);return ve=function(){return e},e}function ye(){var e=Object(be.a)(["\n   text-align: center;\n   padding-bottom: 20px;\n   position: absolute;\n   bottom: 10px;\n   width: 100%;\n"]);return ye=function(){return e},e}function Se(){var e=Object(be.a)(["\n    position: absolute; /* stay in place on scroll and position relative to view */\n    left: 0;\n    top: 0;\n    height: 100%;\n    width: 15%;\n    z-index: 1;  /* stay on top of everything */\n    color: white;\n    background-color: #67d367;\n    overflow-x: hidden; /* disable horizontal scroll */\n    display: inline-block;\n    overflow:auto;\n"]);return Se=function(){return e},e}var we=Re.a.div(Se()),je=Re.a.div(ye()),Ce=Re.a.h2(ve()),ke=Re.a.p(Le()),xe=function(e){Object(j.a)(a,e);var t=Object(C.a)(a);function a(){return Object(S.a)(this,a),t.apply(this,arguments)}return Object(w.a)(a,[{key:"render",value:function(){return r.a.createElement(we,null,r.a.createElement("img",{src:"media/mascot.jpg",alt:"mascot",width:200,style:{display:"block",margin:"auto"}}),r.a.createElement(Ce,null," ",this.props.name," "),r.a.createElement(ke,null," ",this.props.num," Locations "),r.a.createElement(je,null,r.a.createElement(T.a,{type:"submit",size:"small",variant:"contained",onClick:this.props.data},r.a.createElement("a",{href:"landing.html"},"Log Out")),"  ",r.a.createElement(T.a,{type:"submit",variant:"contained",size:"small",onClick:this.props.action},"Add Location")))}}]),a}(r.a.Component),Ne=function(e){Object(j.a)(a,e);var t=Object(C.a)(a);function a(){return Object(S.a)(this,a),t.apply(this,arguments)}return Object(w.a)(a,[{key:"render",value:function(){return r.a.createElement(xe,{data:this.props.data,action:this.props.action,name:this.props.name,num:this.props.num})}}]),a}(r.a.Component);function Te(e){var t=Object(n.useState)(""),a=Object(s.a)(t,2),o=a[0],i=a[1],c=Object(n.useState)(""),l=Object(s.a)(c,2),u=l[0],d=l[1],m=Object(n.useState)(""),p=Object(s.a)(m,2),h=p[0],f=p[1],E=Object(n.useState)(""),g=Object(s.a)(E,2),O=g[0],b=g[1];function R(t,a){var n=[o,u,h,O];n[t]=a,e.action(n)}return r.a.createElement("div",{id:"location-search-wrapper"},r.a.createElement("p",null,"Search by"),r.a.createElement("div",{id:"location-search"},r.a.createElement(k.a,{label:"Street",className:"search-input",onChange:function(e){i(e.target.value),R(0,e.target.value)}}),r.a.createElement(k.a,{label:"City",className:"search-input",onChange:function(e){d(e.target.value),R(1,e.target.value)}}),r.a.createElement(k.a,{label:"State",className:"search-input",onChange:function(e){f(e.target.value),R(2,e.target.value)}}),r.a.createElement(k.a,{label:"Zip",className:"search-input",onChange:function(e){b(e.target.value),R(3,e.target.value)}})))}var Pe=function(e){Object(j.a)(a,e);var t=Object(C.a)(a);function a(e){var n;return Object(S.a)(this,a),(n=t.call(this,e)).handleSelect=function(e){n.props.action(n.props.data.location.k)},n.handleSelect=n.handleSelect.bind(Object(me.a)(n)),n}return Object(w.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"location-row",onClick:this.handleSelect},r.a.createElement("p",{className:"location-name"},this.props.data.location.name),r.a.createElement("p",{className:"location-address"},this.props.data.location.address))}}]),a}(r.a.PureComponent);function _e(e){var t=0,a=e.data.map((function(e){return{name:e.store_name,address:e.address,k:t++}})),n=function(t){for(var n=null,r=0;r<a.length;r++)if(t===a[r].k){n=r;break}e.action(e.data[n])},o=a.map((function(e){return r.a.createElement(Pe,{data:{location:e},action:n,key:e.k})}));return r.a.createElement("div",{id:"location-results",className:e.initial},r.a.createElement(Pe,{data:{location:{name:"Location",address:"Address"}},action:function(e){return 0}}),o)}var Ie=function(e){Object(j.a)(a,e);var t=Object(C.a)(a);function a(e){var n;return Object(S.a)(this,a),(n=t.call(this,e)).handleName=function(e){n.setState({name:e.target.value})},n.handleStreet=function(e){n.setState({street:e.target.value})},n.handleCity=function(e){n.setState({city:e.target.value})},n.handleState=function(e){n.setState({state:e.target.value})},n.handleZip=function(e){n.setState({zip:e.target.value})},n.validate=function(){var e="",t="",a="",r="",o="";return n.state.name||(e="Please enter a location name"),n.state.street||(t="Please enter a street"),(n.state.city.length<2||!isNaN(n.state.city))&&(a="Invalid City"),(n.state.state.length<2||!isNaN(n.state.state))&&(r="Invalid State"),(isNaN(n.state.zip)||n.state.zip.length<5)&&(o="Invalid Zip Code"),!(e||t||a||r||o)||(n.setState({nameError:e,streetError:t,cityError:a,stateError:r,zipError:o}),!1)},n.handleSubmit=function(e){if(e.preventDefault(),n.validate()){var t=n.state;n.props.action.submitNewLocation(t),n.setState({name:"",street:"",city:"",state:"",zip:"",nameError:"",streetError:"",cityError:"",stateError:"",zipError:""}),n.props.action.closeForm()}},n.handleCancel=function(){n.setState({name:"",street:"",city:"",state:"",zip:"",nameError:"",streetError:"",cityError:"",stateError:"",zipError:""}),n.props.action.closeForm()},n.state={name:"",street:"",city:"",state:"",zip:"",nameError:"",streetError:"",cityError:"",stateError:"",zipError:""},n.handleName=n.handleName.bind(Object(me.a)(n)),n.handleStreet=n.handleStreet.bind(Object(me.a)(n)),n.handleCity=n.handleCity.bind(Object(me.a)(n)),n.handleState=n.handleState.bind(Object(me.a)(n)),n.handleZip=n.handleZip.bind(Object(me.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(me.a)(n)),n.handleCancel=n.handleCancel.bind(Object(me.a)(n)),n}return Object(w.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{id:"addLocation-form",className:this.props.data},r.a.createElement("div",{id:"addLocation"},r.a.createElement("h1",null,"Add a location"),r.a.createElement(k.a,{fullWidth:!0,label:"Location Name",value:this.state.name,onChange:this.handleName,helperText:this.state.nameError}),r.a.createElement(k.a,{fullWidth:!0,label:"Street",value:this.state.street,onChange:this.handleStreet,helperText:this.state.streetError}),r.a.createElement("div",{id:"addLocation-smalls"},r.a.createElement(k.a,{label:"City",value:this.state.city,onChange:this.handleCity,helperText:this.state.cityError}),r.a.createElement(k.a,{label:"State",value:this.state.state,onChange:this.handleState,helperText:this.state.stateError}),r.a.createElement(k.a,{label:"Zip",value:this.state.zip,onChange:this.handleZip,helperText:this.state.zipError})),r.a.createElement("div",{id:"addLocation-buttons"},r.a.createElement(T.a,{onClick:this.handleSubmit,variant:"contained"},"Add Location"),r.a.createElement("button",{onClick:this.handleCancel,id:"addLocation-cancel"},"cancel"))))}}]),a}(r.a.Component),De=function(e){Object(j.a)(a,e);var t=Object(C.a)(a);function a(){return Object(S.a)(this,a),t.apply(this,arguments)}return Object(w.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{id:"updateWrapper",className:this.props.data},r.a.createElement("div",{id:"updateListings"},r.a.createElement("div",{id:"updateList"},this.props.initial),r.a.createElement("div",{id:"updateControls"},r.a.createElement("button",{id:"addListing",onClick:this.props.action.addListing},"+"),r.a.createElement(T.a,{variant:"contained",onClick:this.props.action.submitUpdate},"Save"),r.a.createElement(T.a,{variant:"contained",id:"cancelUpdate",onClick:this.props.action.closeForm},"Cancel"))))}}]),a}(r.a.Component),ze=a(180),We=a(183),Me=a(226),Be=a(185),Ae=function(e){Object(j.a)(a,e);var t=Object(C.a)(a);function a(e){var n;return Object(S.a)(this,a),(n=t.call(this,e)).handleImg=function(e){n.props.data.onChange(n.props.data.idx,n.objectify("img",e.target.value),0)},n.handleSelect=function(e){n.props.data.onChange(n.props.data.idx,n.objectify("sel",e.target.value),1)},n.handleName=function(e){n.props.data.onChange(n.props.data.idx,n.objectify("nam",e.target.value),2)},n.handleAmount=function(e){n.props.data.onChange(n.props.data.idx,n.objectify("amo",e.target.value),3)},n.handlePrice=function(e){n.props.data.onChange(n.props.data.idx,n.objectify("pri",e.target.value),4)},n.handleDiscount=function(e){n.props.data.onChange(n.props.data.idx,n.objectify("dis",e.target.value),5)},n.handleExpiration=function(e){n.props.data.onChange(n.props.data.idx,n.objectify("exp",e.target.value),6)},n.handleRemove=function(e){e.preventDefault(),n.props.data.remove(n.props.data.idx)},n.listingSubmit=function(e){13===e.keyCode&&e.preventDefault()},n.objectify=function(e,t){return{image:"img"===e?t:n.props.data.image,category:"sel"===e?t:n.props.data.category,name:"nam"===e?t:n.props.data.name,amount:"amo"===e?t:n.props.data.amount,price:"pri"===e?t:n.props.data.price,rate:"dis"===e?t:n.props.data.rate,expiration:"exp"===e?t:n.props.data.expiration,idx:n.props.data.idx,remove:n.props.data.remove,onChange:n.props.data.onChange,product_id:n.props.data.product_id}},n.props.data.linkError=n.props.data.image&&!n.props.data.image.includes(".")?"Enter valid link":"",n.props.data.nameError=n.props.data.name?"":"Required",n.props.data.amountError=n.props.data.amount&&Number(n.props.data.amount)?"":"Required (numbers only)",n.props.data.priceError=!n.props.data.price||!Number(n.props.data.price)||Number(n.props.data.price)>1e3?"Required (numbers < 1000 only)":"",n.props.data.discountError=n.props.data.rate&&Number(n.props.data.rate)?"":"Required (numbers only)",n.props.data.expirationError=!n.props.data.expiration||new Date(n.props.data.expiration)<(new Date).setDate((new Date).getDate()-1)?"Required (enter future date)":"",n.handleImg=n.handleImg.bind(Object(me.a)(n)),n.handleSelect=n.handleSelect.bind(Object(me.a)(n)),n.handleName=n.handleName.bind(Object(me.a)(n)),n.handleAmount=n.handleAmount.bind(Object(me.a)(n)),n.handlePrice=n.handlePrice.bind(Object(me.a)(n)),n.handleDiscount=n.handleDiscount.bind(Object(me.a)(n)),n.handleExpiration=n.handleExpiration.bind(Object(me.a)(n)),n.handleRemove=n.handleRemove.bind(Object(me.a)(n)),n.objectify=n.objectify.bind(Object(me.a)(n)),n.listingSubmit=n.listingSubmit.bind(Object(me.a)(n)),n}return Object(w.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("form",{className:"updatableListing",onSubmit:this.listingSubmit},r.a.createElement(k.a,{className:"updateField",label:"Img Link",type:"url",value:this.props.data.image,onChange:this.handleImg,inputRef:function(t){return e.img=t},helperText:this.props.data.linkError,onKeyDown:this.listingSubmit}),r.a.createElement(ze.a,null,r.a.createElement(Be.a,{className:"category-select"},"Category"),r.a.createElement(We.a,{labelId:"demo-simple-select-filled-label",className:"updateSelect",value:this.props.data.category,onChange:this.handleSelect},r.a.createElement(Me.a,{value:"None"},"None"),r.a.createElement(Me.a,{value:"Vegetable"},"Vegetable"),r.a.createElement(Me.a,{value:"Meat"},"Meat"),r.a.createElement(Me.a,{value:"Seafood"},"Seafood"),r.a.createElement(Me.a,{value:"Grain"},"Grain"),r.a.createElement(Me.a,{value:"Fruit"},"Fruit"),r.a.createElement(Me.a,{value:"Dairy"},"Dairy"),r.a.createElement(Me.a,{value:"Snack"},"Snack"))),r.a.createElement(k.a,{className:"updateField",label:"Name",value:this.props.data.name,onChange:this.handleName,inputRef:function(t){return e.nam=t},helperText:this.props.data.nameError,onKeyDown:this.listingSubmit}),r.a.createElement(k.a,{className:"updateField",label:"Amount",value:this.props.data.amount,onChange:this.handleAmount,inputRef:function(t){return e.amo=t},helperText:this.props.data.amountError,onKeyDown:this.listingSubmit}),r.a.createElement(k.a,{className:"updateField",label:"Price",value:this.props.data.price,onChange:this.handlePrice,inputRef:function(t){return e.pri=t},helperText:this.props.data.priceError,onKeyDown:this.listingSubmit}),r.a.createElement(k.a,{className:"updateField",label:"Max Percent Off",value:this.props.data.rate,onChange:this.handleDiscount,inputRef:function(t){return e.dis=t},helperText:this.props.data.discountError,onKeyDown:this.listingSubmit}),r.a.createElement(k.a,{label:"Expiration",type:"date",className:"upDate date",value:this.props.data.expiration,InputLabelProps:{shrink:!0},onChange:this.handleExpiration,inputRef:function(t){return e.exp=t},helperText:this.props.data.expirationError}),r.a.createElement("button",{className:"removeListing",onClick:this.handleRemove},"-"))}},{key:"componentDidMount",value:function(){if(7!==this.props.focus&&1!==this.props.focus)switch(this.props.focus){case 0:this.img.focus();break;case 2:this.nam.focus();break;case 3:this.amo.focus();break;case 4:this.pri.focus();break;case 5:this.dis.focus();break;case 6:this.exp.focus()}}}]),a}(r.a.Component),Fe=function(e){Object(j.a)(a,e);var t=Object(C.a)(a);function a(){return Object(S.a)(this,a),t.apply(this,arguments)}return Object(w.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{id:"status",className:this.props.status},r.a.createElement("h1",null,this.props.message))}}]),a}(r.a.Component),qe=function(e){Object(j.a)(a,e);var t=Object(C.a)(a);function a(e){var n;return Object(S.a)(this,a),(n=t.call(this,e)).validate=function(e){for(var t=0;t<e.length;t++)if(e[t].image&&!e[t].image.includes(".")||!e[t].name||!e[t].amount||!Number(e[t].amount)||!e[t].price||!Number(e[t].price)||Number(e[t].price)>1e3||!e[t].rate||!Number(e[t].rate)||!e[t].expiration||new Date(e[t].expiration)<(new Date).setDate((new Date).getDate()-1))return alert("Please provide all required details."),!1;return!0},n.state={currentLocation:"",session:"",currentStore:"",currentMessage:"Welcome!",currentStatus:"good",load:function(){var e="https://fuo-backend.herokuapp.com/business/printalllocation/",t=e+n.state.session;fetch(t).then((function(e){if(200===e.status)return e.json();throw new Error("bad loading")})).then((function(e){n.setState({locations:e,locationBg:""})})).catch((function(e){console.log("caught load"),console.log(e),n.setState({currentMessage:"Something went wrong...",currentStatus:"bad"})})),t=(e="https://fuo-backend.herokuapp.com/business/numoflocations/")+n.state.session,fetch(t).then((function(e){if(200===e.status)return e.json();throw new Error("bad loading")})).then((function(e){return n.setState({totalLocations:e})})).catch((function(e){console.log("caught numLocations"),console.log(e),n.setState({currentMessage:"Something went wrong...",currentStatus:"bad"})})),t=(e="https://fuo-backend.herokuapp.com/business/getbusinessname/")+n.state.session,fetch(t).then((function(e){if(200===e.status)return e.json();throw new Error("bad loading")})).then((function(e){return n.setState({companyName:e.name})})).catch((function(e){console.log("caught numLocations"),console.log(e),n.setState({currentMessage:"Something went wrong...",currentStatus:"bad"})}))},logout:function(){localStorage.clear()},companyName:"",totalLocations:"",addLocation:function(){n.setState({formClass:"off"===n.state.formClass?"on":"off"})},search:function(e){var t=e[0],a=e[1],r=e[2],o=e[3];if(""===t&&""===a&&""===r&&""===o){var i=n.state.session;fetch("https://fuo-backend.herokuapp.com/business/printalllocation/"+i).then((function(e){if(200===e.status)return e.json();throw new Error("bad loading")})).then((function(e){n.setState({locations:e,locationBg:""})})).catch((function(e){console.log("caught load"),console.log(e)}))}else{var s=n.state.session+"/";fetch("https://fuo-backend.herokuapp.com/business/searchlocation/"+s+(t+(""!==a?"."+a:"")+(""!==r?","+r:"")+(""!==o?" "+o:""))).then((function(e){if(200===e.status)return e.json();throw new Error("bad search")})).then((function(e){n.setState({locations:e,locationBg:0===e.length?"empty":""})})).catch((function(e){console.log("caught search"),console.log(e),n.setState({locations:[],locationBg:"empty"})}))}},locations:[],locationBg:"empty",selectLocation:function(e){if(null!==e){var t=e.store_id;fetch("https://fuo-backend.herokuapp.com/product/printallproduct/"+t).then((function(e){if(200===e.status)return e.json();throw new Error("Unable to get store")})).then((function(t){for(var a=[],r=0;r<t.length;r++)a.push({image:t[r].product_img,category:t[r].category,name:t[r].product_name,amount:t[r].stock_amount,price:t[r].price,rate:t[r].coupon,product_id:t[r].product_id,expiration:t[r].expire_date});for(var o=[],i=0;i<a.length;i++)o.push(n.state.fillListing(a[i],7));n.setState({right:{address:e.address,totalProducts:t.length,productsList:t},updateListings:a,list:o,currentLocation:e.address,currentStore:e.store_id})})).catch((function(e){console.log("caught store get"),console.log(e),n.setState({currentMessage:"Something went wrong...",currentStatus:"bad"})}))}else alert("Select Location failed")},right:{address:"No Selection",totalProducts:0,productsList:[]},rightControls:{updateProducts:function(){""!==n.state.currentStore?n.setState({updateClass:"off"===n.state.updateClass?"on":"off"}):alert("No location selected")},deleteLocation:function(e){var t="https://fuo-backend.herokuapp.com/business/deletelocation/",a=n.state.session+"/";n.setState({currentStatus:""});var r=n.state.currentStore,o=t+a+r;fetch(o,{method:"DELETE"}).then((function(e){if(200===e.status)return e.json();throw new Error("Delete failed")})).then((function(e){t="https://fuo-backend.herokuapp.com/business/printalllocation/",a=n.state.session,o=t+a,fetch(o).then((function(e){return e.json()})).then((function(e){n.setState({locations:e,locationBg:""}),n.setState({currentMessage:"Success!",currentStatus:"good",currentStore:""}),n.setState({right:{address:"No Selection",totalProducts:0,productsList:[]}})})).catch((function(e){console.log("caught load"),console.log(e),n.setState({currentMessage:"Something went wrong...",currentStatus:"bad"})}))})).catch((function(e){console.log("caught delete"),console.log(e),n.setState({currentMessage:"Something went wrong...",currentStatus:"bad"})}))}},formClass:"off",form:{submitNewLocation:function(e){n.setState({currentStatus:""});var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({address:e.street+"."+e.city+","+e.state+" "+e.zip,name:e.name})},a="https://fuo-backend.herokuapp.com/business/addlocation/",r=n.state.session,o=a+r;fetch(o,t).then((function(e){if(200===e.status)return e.json();throw new Error("Add location failed")})).then((function(e){a="https://fuo-backend.herokuapp.com/business/printalllocation/",r=n.state.session,o=a+r,fetch(o).then((function(e){return e.json()})).then((function(e){n.setState({locations:e,locationBg:""}),n.setState({currentMessage:"Success!",currentStatus:"good"})})).catch((function(e){console.log("caught load"),console.log(e)}))})).catch((function(e){console.log("caught add"),console.log(e),n.setState({currentMessage:"Something went wrong...",currentStatus:"bad"})}))},closeForm:function(e){n.setState({formClass:"off"===n.state.formClass?"on":"off"})}},updateListings:[],removeListings:[],list:[],idx:-1,key:0,updateClass:"off",formControl:{remove:function(e){for(var t=n.state.updateListings,a=n.state.list,r=n.state.removeListings,o=null,i=0;i<a.length;i++)if(a[i].props.data.idx===e){o=i;break}null!==o?(r.push(t[o]),t.splice(o,1),a.splice(o,1),n.setState({updateListings:t,list:a,removeListings:r})):alert("Remove failed: could not find item")},onChange:function(e,t,a){for(var r=n.state.updateListings,o=n.state.list,i=null,s=0;s<r.length;s++)if(o[s].props.data.idx===e){i=s;break}null!==i?(r[i]=t,o[i]=n.state.fillListing(r[i],a),n.setState({updateListings:r,list:o})):alert("Change failed: could not find item")}},update:{submitUpdate:function(){var e=JSON.parse(JSON.stringify(n.state.updateListings));if(!n.validate(e))return!1;for(var t=[],a=[],r=0;r<e.length;r++)t.push({product_name:e[r].name,product_img:e[r].image,category:e[r].category,price:e[r].price,expire_date:e[r].expiration,stock_amount:e[r].amount,coupon:e[r].rate}),a.push(e[r].product_id);var o={method:"POST",headers:{"Content-Type":"application/json"},body:{}},i="https://fuo-backend.herokuapp.com/product/upsert/",s=n.state.currentStore+"/";n.setState({currentStatus:""});for(var c=0;c<t.length;c++){var l=i+s+a[c];o.body=JSON.stringify(t[c]),fetch(l,o).then((function(e){if(200===e.status)return e.json();throw new Error("bad upload")})).then((function(e){n.state.refreshCurrent(),n.setState({currentMessage:"Success!",currentStatus:"good"})})).catch((function(e){console.log("caught upload"),console.log(e),n.setState({currentMessage:"Something went wrong...",currentStatus:"bad"})}))}e=JSON.parse(JSON.stringify(n.state.removeListings)),n.setState({removeListings:[]}),o={method:"DELETE",headers:{"Content-Type":"application/json"}},i="https://fuo-backend.herokuapp.com/product/delete/",s=n.state.currentStore+"/";for(var u="",d=0;d<e.length;d++)"0"!==e[d].product_id&&(u=i+s+e[d].product_id,fetch(u,o).then((function(e){if(200===e.status)return e.json();throw new Error("Delete item failed")})).then((function(e){n.state.refreshCurrent(),n.setState({currentMessage:"Success!",currentStatus:"good"})})).catch((function(e){console.log("caught delete"),console.log(e),n.setState({currentMessage:"Something went wrong...",currentStatus:"bad"})})));n.state.update.closeForm()},addListing:function(e){var t=n.state.updateListings,a=n.state.list,o={image:"",category:"None",name:"",amount:"",price:"",rate:"",product_id:"0",expiration:"",idx:n.state.idx,remove:n.state.formControl.remove,onChange:n.state.formControl.onChange,linkError:"",nameError:"",amountError:"",priceError:"",discountError:"",expirationError:""},i=r.a.createElement(Ae,{data:o,key:n.state.key,action:n.state.formControl,focus:7});t.push(o),a.push(i),n.setState({updateListings:t,list:a,key:n.state.key+1,idx:n.state.idx-1})},closeForm:function(e){try{e.preventDefault()}catch(e){console.log("saved!")}n.setState({updateClass:"off"===n.state.updateClass?"on":"off"})}},fillListing:function(e,t){var a,o=(a={image:null===e.image?"":e.image,category:e.category,name:e.name,amount:e.amount,price:e.price,rate:e.rate,product_id:e.product_id,expiration:e.expiration},Object(y.a)(a,"product_id",e.product_id),Object(y.a)(a,"idx",n.state.idx),Object(y.a)(a,"remove",n.state.formControl.remove),Object(y.a)(a,"onChange",n.state.formControl.onChange),a),i=r.a.createElement(Ae,{data:o,key:n.state.key,action:n.state.formControl,focus:t});return n.setState({key:n.state.key+1,idx:n.state.idx-1}),i},refreshCurrent:function(){var e=n.state.currentStore;fetch("https://fuo-backend.herokuapp.com/product/printallproduct/"+e).then((function(e){if(200===e.status)return e.json();throw new Error("Failed to get new listings")})).then((function(e){for(var t=[],a=0;a<e.length;a++)t.push({image:e[a].product_img,category:e[a].category,name:e[a].product_name,amount:e[a].stock_amount,price:e[a].price,rate:e[a].coupon,product_id:e[a].product_id,expiration:e[a].expire_date});for(var r=[],o=0;o<t.length;o++)r.push(n.state.fillListing(t[o],7));n.setState({right:{address:n.state.currentLocation,totalProducts:e.length,productsList:e},updateListings:t,list:r})})).catch((function(e){console.log("caught"),console.log(e)}))}},n.validate=n.validate.bind(Object(me.a)(n)),n}return Object(w.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Ne,{action:this.state.addLocation,data:this.state.logout,name:this.state.companyName,num:this.state.totalLocations}),r.a.createElement(Te,{action:this.state.search}),r.a.createElement(_e,{action:this.state.selectLocation,data:this.state.locations,initial:this.state.locationBg}),r.a.createElement(Oe,{action:this.state.rightControls,data:this.state.right}),r.a.createElement(Ie,{action:this.state.form,data:this.state.formClass}),r.a.createElement(De,{action:this.state.update,data:this.state.updateClass,initial:this.state.list}),r.a.createElement(Fe,{message:this.state.currentMessage,status:this.state.currentStatus}))}},{key:"componentDidMount",value:function(){var e=this;(window.innerWidth/window.innerHeight<1.3||window.innerHeight<720)&&alert("Layout has not been optimized for small screens. Please log in with a larger device.");var t={token:localStorage.getItem("fuo")};fetch("https://fuo-backend.herokuapp.com/users/me/from/token/business",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){if(200===e.status)return e.json();throw window.location.assign("http://localhost:3000/"),new Error("There is no session")})).then((function(t){e.setState({session:t.user.business_id}),e.state.load()})).catch((function(t){console.log("caught b login"),console.log(t),e.setState({currentMessage:"Something went wrong...",currentStatus:"bad"})}))}}]),a}(r.a.Component),Je=a(113),Ge=a.n(Je),Ue=a(29);function Ze(){var e=Object(be.a)(["\n    padding: .3% .5%;\n    font-size: 1em;\n    width: 5em;\n    text-align: center;\n    border-radius: 5px;\n    border: none;\n    outline: none;\n    background: white;\n    white-space: nowrap;\n    &: hover {\n            color: white;\n            background: green;\n    }\n"]);return Ze=function(){return e},e}function He(){var e=Object(be.a)(["\n    color: white;\n    text-size: 30px;\n    background-color: #67d367;\n    border: none;\n    outline: none;\n    transition: fill 0.25s;\n    &: hover {\n        color: #dddddd;\n    }\n"]);return He=function(){return e},e}function Ve(){var e=Object(be.a)(['\n    type="text";\n    color: \'black\';\n    placeholder: "Enter item";\n    font-size: 1.5em;\n    padding: .5% 1.5%;\n    width: 50%;\n    outline: none;\n    border: none;\n    border-radius: 25px;\n']);return Ve=function(){return e},e}function $e(){var e=Object(be.a)([""]);return $e=function(){return e},e}function Ke(){var e=Object(be.a)(["\n    height: 8%;\n    width: 100%;\n    color: white;\n    background-color: #67d367;\n    overflow-x: hidden; /* disable horizontal scroll */\n    display: flex;\n    justify-content: space-around;\n    align-items: center;\n    overflow: hidden;\n"]);return Ke=function(){return e},e}var Ye=Re.a.div(Ke()),Xe=Re.a.h1($e()),Qe=Re.a.input(Ve()),et=Re.a.button(He()),tt=Re.a.button(Ze()),at=function(e){Object(j.a)(a,e);var t=Object(C.a)(a);function a(e){var n;return Object(S.a)(this,a),(n=t.call(this,e)).handleSearch=function(e){if(""!==e.target.value){var t=Mt.getState(),a="https://fuo-backend.herokuapp.com/product/"+(t.customer+"/")+(t.sort+"/"+t.category+"/"+e.target.value+"/"+(""===t.low?"0":t.low)+"/"+(""===t.high?"1000":t.high));console.log(a),fetch(a,{headers:{"Content-Type":"application/json"}}).then((function(e){if(200===e.status)return e.json();throw new Error("bad search")})).then((function(e){console.log(e),n.props.searchedItem(e),n.props.setBg(e.length)})).catch((function(e){console.log("caught search"),console.log(e)}))}},n.logout=function(e){e.preventDefault(),localStorage.clear(),window.location.assign("landing.html")},n.render=function(){return r.a.createElement(Ye,null,r.a.createElement(Xe,null,"FUO"),r.a.createElement(Qe,{placeholder:"Search Item",onChange:n.handleSearch}),r.a.createElement(et,{type:"button",onClick:n.props.handleClick}," ",r.a.createElement(Ge.a,{fontSize:"large"})," "),r.a.createElement(tt,{size:"small",onClick:n.logout}," Log Out "))},n.handleSearch=n.handleSearch.bind(Object(me.a)(n)),n.logout=n.logout.bind(Object(me.a)(n)),n}return a}(n.Component),nt=Object(Ue.b)((function(e){return{items:e.items}}),(function(e){return{searchedItem:function(t){e(function(e){return{type:"SEARCHED_ITEM",items:e}}(t))},setBg:function(t){e(function(e){return{type:"SET_BG",bg:e}}(t))}}}))(at),rt=a(114),ot=a.n(rt);function it(){var e=Object(be.a)(["\n    color: #67d367;\n    border: none;\n    outline: none;\n    width: 3em;\n    height: 3em;\n    padding: 2em;\n    display: flex;\n    justify-content: space-around;\n    align-items: center;\n    border-radius: 50%;\n\n    &: hover {\n        background-color: #67d367;\n        color: white; \n    }\n"]);return it=function(){return e},e}function st(){var e=Object(be.a)(["\n    outline: none;\n    border: none;\n    padding: 1%;\n    display: flex;\n    flex-wrap: nowrap;\n    justify-content: space-between;\n    algin-items: center;\n    width: 20%;\n\n    @media (max-width: 800px) {\n        width: 50%;\n        line-height: 2.5;\n      }\n"]);return st=function(){return e},e}function ct(){var e=Object(be.a)(["\n    font-size: 1.5em;\n    text-overflow: ellipse\n"]);return ct=function(){return e},e}function lt(){var e=Object(be.a)(["\n    width: 50%;\n\n    @media (max-width: 800px) {\n        width: 90%;\n      }\n"]);return lt=function(){return e},e}function ut(){var e=Object(be.a)(["\n    width: 13%;\n    @media (max-width: 800px) {\n        width: auto;\n        height: 30%;\n      }\n"]);return ut=function(){return e},e}function dt(){var e=Object(be.a)(["\n    width: 100%;\n    height: 15%;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    border-left: 5px solid white;\n    border-right: 5px solid white;\n    box-sizing: border-box;\n    overflow: hidden;\n    &: hover {\n        border-left: 5px solid #73f073;\n    }\n\n    @media (max-width: 800px) {\n        flex-direction: column;\n        height: 50%;\n        border-bottom: 2px solid gray;\n        text-align: center;\n\n        &: hover {\n            border-right: 5px solid #73f073;\n        }\n      }\n"]);return dt=function(){return e},e}function mt(){var e=Object(be.a)(["\n    width: 60%;\n    height: 90%;\n    margin: 0 auto;\n    background: #FFFFFF;\n    box-shadow: 1px 2px 3px 0px rgba(0,0,0,0.10);\n    border-radius: 6px;\n    overflow-y: auto;\n"]);return mt=function(){return e},e}var pt=Re.a.div(mt()),ht=Re.a.div(dt()),ft=Re.a.img(ut()),Et=Re.a.div(lt()),gt=Re.a.h3(ct()),Ot=Re.a.div(st()),bt=Re.a.button(it()),Rt=-1,Lt=function(e){Object(j.a)(a,e);var t=Object(C.a)(a);function a(){var e;Object(S.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleClick=function(t){var a={product_id:t},n="https://fuo-backend.herokuapp.com/cart/add/"+Mt.getState().customer;console.log(n),console.log(a),fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){if(200===e.status)return e.json();throw new Error("could not add to cart")})).then((function(t){console.log(t),e.props.addToCart(t)})).catch((function(e){console.log("caught cart"),console.log(e)}))},e}return Object(w.a)(a,[{key:"render",value:function(){var e=this,t=this.props.items.map((function(t){return r.a.createElement(ht,{key:Rt--},r.a.createElement(ft,{src:t.product_img}),r.a.createElement(Et,null,r.a.createElement(gt,null,t.product_name),r.a.createElement("h5",null,"Good by: ",t.expire_date),r.a.createElement("h5",null,"Estimated Amount Left: ",t.stock_amount)),r.a.createElement(Ot,null,r.a.createElement("h3",null,"$",t.discounted_price),r.a.createElement(bt,{onClick:function(){e.handleClick(t.product_id)}}," ",r.a.createElement(ot.a,{fontSize:"large"})," ")))}));return r.a.createElement(pt,{className:this.props.bg},t)}}]),a}(n.Component),vt=Object(Ue.b)((function(e){return{items:e.items,bg:e.bg}}),(function(e){return{addToCart:function(t){e(function(e){return{type:"ADD_TO_CART",cart:e}}(t))}}}))(Lt),yt=a(115),St=a.n(yt),wt=1,jt=function(e){Object(j.a)(a,e);var t=Object(C.a)(a);function a(){var e;Object(S.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleRemove=function(t){var a="https://fuo-backend.herokuapp.com/cart/delete/"+(Mt.getState().customer+"/")+t;console.log(a),fetch(a,{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(e){if(200===e.status)return e.json();throw new Error("There is no session")})).then((function(t){console.log(t),e.props.removeItem(t)})).catch((function(e){console.log("caught remove"),console.log(e)}))},e.handleClear=function(){var t=Mt.getState().customer_id;fetch("https://fuo-backend.herokuapp.com/cart/delete/"+t,{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(e){if(200===e.status)return e.json();throw new Error("There is no session")})).then((function(t){e.props.cartCleared(t)})).catch((function(e){console.log("caught clear"),console.log(e)}))},e}return Object(w.a)(a,[{key:"render",value:function(){var e=this,t=this.props.items.length?this.props.items.map((function(t){return r.a.createElement("div",{className:"shopping-list-item",key:wt++},r.a.createElement(St.a,{width:1,value:t.coupon+" off"}),r.a.createElement("div",{className:"shopping-list-item-left"},r.a.createElement("p",{className:"shopping-list-item-name"},t.product_name),r.a.createElement("p",{className:"shopping-list-item-address"},"Address"),r.a.createElement("p",{className:"shopping-list-item-business"},"Business")),r.a.createElement("div",{className:"shopping-list-item-mid"},r.a.createElement("div",null,r.a.createElement("p",{className:"shopping-list-price"},"$",t.discounted_price),r.a.createElement("p",{className:"shopping-list-discount"},"$",t.price))),r.a.createElement("div",{className:"shopping-list-item-right"},r.a.createElement("button",{title:"Remove",onClick:function(){e.handleRemove(t.product_id)}},"X")))})):r.a.createElement("p",null,"Your cart is empty"),a=this.props.show?"shoppinglist-parent":"display-none";return r.a.createElement("div",{id:a},r.a.createElement("div",{id:"shopping-list"},r.a.createElement("button",{id:"close-shopping-list",onClick:this.props.handleClose},"X"),r.a.createElement("div",{id:"shopping-list-container"},t),r.a.createElement("button",{id:"clear-shopping-list",onClick:this.handleClear},"Clear")))}}]),a}(r.a.Component),Ct=Object(Ue.b)((function(e){return{items:e.addedItems}}),(function(e){return{removeItem:function(t){e(function(e){return{type:"REMOVE_ITEM",cart:e}}(t))},cartCleared:function(t){e(function(e){return{type:"CART_CLEARED",cart:e}}(t))}}}))(jt),kt=function(e){Object(j.a)(a,e);var t=Object(C.a)(a);function a(e){var n;return Object(S.a)(this,a),(n=t.call(this,e)).handleSort=function(e){n.props.setSort(e.target.value)},n.handleCategory=function(e){n.props.setCat(e.target.value)},n.handleMin=function(e){!Number(e.target.value)&&e.target.value?n.setState({minError:"Numbers only"}):(n.setState({minError:""}),n.props.setLow(e.target.value))},n.handleMax=function(e){!Number(e.target.value)&&e.target.value?n.setState({maxError:"Numbers only"}):(n.setState({maxError:""}),n.props.setHi(e.target.value))},n.state={minError:"",maxError:""},n}return Object(w.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{id:"searchFilters"},r.a.createElement(ze.a,{className:"filter"},r.a.createElement(Be.a,null,"Sort"),r.a.createElement(We.a,{value:this.props.sort,onChange:this.handleSort},r.a.createElement(Me.a,{value:"Distance"},"Closest Distance"),r.a.createElement(Me.a,{value:"Price"},"Lowest Price"),r.a.createElement(Me.a,{value:"Expiration"},"Freshness"))),r.a.createElement(ze.a,{className:"filter"},r.a.createElement(Be.a,null,"Category"),r.a.createElement(We.a,{value:this.props.category,onChange:this.handleCategory},r.a.createElement(Me.a,{value:"None"},"None"),r.a.createElement(Me.a,{value:"Vegetable"},"Vegetable"),r.a.createElement(Me.a,{value:"Meat"},"Meat"),r.a.createElement(Me.a,{value:"Seafood"},"Seafood"),r.a.createElement(Me.a,{value:"Grain"},"Grain"),r.a.createElement(Me.a,{value:"Fruit"},"Fruit"),r.a.createElement(Me.a,{value:"Dairy"},"Dairy"),r.a.createElement(Me.a,{value:"Snack"},"Snack"))),r.a.createElement(k.a,{label:"Min $",onChange:this.handleMin,className:"filter",value:Mt.getState().low,helperText:this.state.minError}),r.a.createElement(k.a,{label:"Max $",onChange:this.handleMax,className:"filter",value:Mt.getState().high,helperText:this.state.maxError}))}}]),a}(r.a.Component),xt=Object(Ue.b)((function(e){return{category:e.category,sort:e.sort,low:e.low,high:e.high}}),(function(e){return{setSort:function(t){e(function(e){return{type:"SET_SORT",sort:e}}(t))},setCat:function(t){e(function(e){return{type:"SET_CAT",cat:e}}(t))},setLow:function(t){e(function(e){return{type:"SET_LOW",low:e}}(t))},setHi:function(t){e(function(e){return{type:"SET_HI",hi:e}}(t))}}}))(kt),Nt=function(e){Object(j.a)(a,e);var t=Object(C.a)(a);function a(e){var n;return Object(S.a)(this,a),(n=t.call(this,e)).showShoppingList=function(){n.setState({show:!0});var e="https://fuo-backend.herokuapp.com/cart/list/"+Mt.getState().customer;console.log(e),fetch(e,{headers:{"Content-Type":"application/json"}}).then((function(e){if(200===e.status)return e.json();throw new Error("Could not get cart")})).then((function(e){console.log(e);for(var t=[],a=0;a<e.length;a++)t.push(Object.assign({},e[a].product[0]));n.props.getList(t)})).catch((function(e){console.log("caught cart"),console.log(e)}))},n.hideShoppingList=function(){n.setState({show:!1})},n.state={show:!1},n}return Object(w.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{id:"customer"},r.a.createElement(nt,{handleClick:this.showShoppingList}),r.a.createElement(xt,null),r.a.createElement(vt,null),r.a.createElement(Ct,{show:this.state.show,handleClose:this.hideShoppingList}," "))}},{key:"componentDidMount",value:function(){var e=this,t={token:localStorage.getItem("fuo")};fetch("https://fuo-backend.herokuapp.com/users/me/from/token/customer",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){if(200===e.status)return e.json();throw new Error("There is no session")})).then((function(t){e.props.refreshed(t.user)})).catch((function(e){console.log("caught c refresh"),console.log(e)}))}}]),a}(r.a.Component),Tt=Object(Ue.b)((function(e){return{customer:e.customer,address:e.address,addedItems:e.addedItems}}),(function(e){return{refreshed:function(t){e(function(e){return{type:"REFRESHED",session:e}}(t))},getList:function(t){e(function(e){return{type:"GET_LIST",list:e}}(t))}}}))(Nt),Pt=a(45),_t=a(18),It={items:[],addedItems:[],customer:"21",address:"",category:"None",sort:"Distance",low:"0",high:"1000",bg:"empty"},Dt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It,t=arguments.length>1?arguments[1]:void 0;if("ADD_TO_CART"===t.type)return Object(_t.a)({},e);if("REMOVE_ITEM"===t.type)return Object(_t.a)(Object(_t.a)({},e),{},{addItems:t.cart});if("CART_CLEARED"===t.type)return Object(_t.a)(Object(_t.a)({},e),{},{addItems:t.cart});if("SEARCHED_ITEM"===t.type)return Object(_t.a)(Object(_t.a)({},e),{},{items:t.items});if("REFRESHED"===t.type)return Object(_t.a)(Object(_t.a)({},e),{},{customer:t.session.customer_id,address:t.session.customer_location});if("GET_LIST"===t.type)return Object(_t.a)(Object(_t.a)({},e),{},{addedItems:t.list});if("SET_SORT"===t.type)return Object(_t.a)(Object(_t.a)({},e),{},{sort:t.sort});if("SET_CAT"===t.type)return Object(_t.a)(Object(_t.a)({},e),{},{category:t.cat});if("SET_LOW"===t.type)return Object(_t.a)(Object(_t.a)({},e),{},{low:t.low});if("SET_HI"===t.type)return Object(_t.a)(Object(_t.a)({},e),{},{high:t.hi});if("SET_BG"===t.type){var a=0===t.bg?"empty":"";return Object(_t.a)(Object(_t.a)({},e),{},{bg:a})}return e},zt=a(75),Wt=Object(zt.b)(Dt),Mt=t.default=Wt,Bt=r.a.createElement(_.a,null,r.a.createElement(Pt.c,null,r.a.createElement(Pt.a,{exact:!0,path:"/",component:de}),r.a.createElement(Pt.a,{path:"/ErrorPage",component:function(){return r.a.createElement("div",null,r.a.createElement("h1",null," LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR "),r.a.createElement("h1",null," LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR "),"        ",r.a.createElement("h1",null," LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR "),"        ",r.a.createElement("h1",null," LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR "),"        ",r.a.createElement("h1",null," LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR LOL ERROR "))}}),r.a.createElement(Pt.a,{path:"/Business",component:qe}),r.a.createElement(Pt.a,{path:"/Customer",component:Tt})));i.a.render(r.a.createElement(Ue.a,{store:Wt}," ",Bt," "),document.getElementById("root"))},88:function(e,t,a){}},[[128,1,2]]]);
//# sourceMappingURL=main.7cf4bea3.chunk.js.map